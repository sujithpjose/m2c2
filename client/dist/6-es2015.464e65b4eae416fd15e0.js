(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"A4/C":function(e,t,n){"use strict";n.r(t),n.d(t,"HomeModule",(function(){return E}));var i=n("ofXK"),c=n("bcps"),o=n("PCNd"),s=n("tyNb"),a=n("cp0P"),r=n("ey9i"),l=(n("sne2"),n("fXoL"));let m=(()=>{class e{constructor(e,t){this.dataService=e,this.util=t;const n=new Date;this.currentDate=this.util.formatDate(n)}fetchMovieDashboard(e){const t=e.map(e=>this.generateMovieResponses(e));return Object(a.a)(...t)}fetchNowPlaying(){return this.dataService.get("movies/nowPlaying")}doContentSearch(e,t){return this.dataService.get(`movies/search?query=${e}&page=${t}`)}generateMovieResponses(e,t=1){return this.dataService.get(`movies/discover?date=${this.currentDate}&language=${e.value}&page=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(l.cc(r.a),l.cc(r.b))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})();var g=n("M0ag"),p=n("5eHb"),d=n("KPdS"),u=n("R0Ic");const h=["*"],v=[Object(u.g)(":enter, :leave",Object(u.j)({position:"static",width:"100%"}),{optional:!0}),Object(u.f)([Object(u.g)(":enter",[Object(u.j)({transform:"translateX(-100%)"}),Object(u.e)("1s ease-out",Object(u.j)({transform:"translateX(0%)"}))],{optional:!0}),Object(u.g)(":leave",[Object(u.j)({transform:"translateX(0%)"}),Object(u.e)("1s ease-out",Object(u.j)({transform:"translateX(100%)"}))],{optional:!0})])],b=[Object(u.g)(":enter, :leave",Object(u.j)({position:"static",width:"100%"}),{optional:!0}),Object(u.f)([Object(u.g)(":enter",[Object(u.j)({transform:"translateX(100%)"}),Object(u.e)("1s ease-out",Object(u.j)({transform:"translateX(0%)"}))],{optional:!0}),Object(u.g)(":leave",[Object(u.j)({transform:"translateX(0%)"}),Object(u.e)("1s ease-out",Object(u.j)({transform:"translateX(-100%)"}))],{optional:!0})])];let f=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["app-slider-carousal"]],inputs:{animate:"animate"},ngContentSelectors:h,decls:2,vars:1,consts:[[1,"slider-carousal"]],template:function(e,t){1&e&&(l.mc(),l.Yb(0,"section",0),l.lc(1),l.Xb()),2&e&&l.nc("@animImageSlider",t.animate)},styles:[".slider-carousal[_ngcontent-%COMP%]{display:flex;overflow:auto;background:#020d18;padding:0 5px}"],data:{animation:[Object(u.l)("animImageSlider",[Object(u.k)(":increment",b),Object(u.k)(":decrement",v)])]},changeDetection:0}),e})();var x=n("2c16");function O(e,t){if(1&e){const e=l.Zb();l.Yb(0,"article"),l.Yb(1,"span",1),l.gc("click",(function(){l.rc(e);const n=t.$implicit;return l.ic().onSelect(n)})),l.Xb(),l.Xb()}if(2&e){const e=t.index,n=l.ic();l.Hb(1),l.Kb("active",e===n.activeIndex)}}let w=(()=>{class e{constructor(){this.activeItem=new l.q,this.dots=[],this.active=0}ngOnChanges(e){if(e.count)for(let t=0;t<this.count;t++)this.dots.push(t)}ngOnInit(){}onSelect(e){this.active=e,this.activeItem.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["slider-dots"]],inputs:{count:"count",activeIndex:"activeIndex"},outputs:{activeItem:"activeItem"},features:[l.Fb],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"circle",3,"click"]],template:function(e,t){1&e&&l.xc(0,O,2,2,"article",0),2&e&&l.nc("ngForOf",t.dots)},directives:[i.k],styles:["[_nghost-%COMP%]{display:flex;justify-content:flex-end}.circle[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#fff;margin-left:10px;display:flex;cursor:pointer}.circle.active[_ngcontent-%COMP%]{background:#dcf836}"],changeDetection:0}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){this.imageUrl=this.imageUrl?this.imageUrl:"/assets/images/slider_placeholder.svg"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["m2c-poster-img"]],inputs:{imageUrl:"imageUrl"},decls:1,vars:1,consts:[["alt","poster","alt","thumpnail for movies",1,"poster-img",3,"src"]],template:function(e,t){1&e&&l.Tb(0,"img",0),2&e&&l.nc("src",t.imageUrl,l.uc)},styles:[".poster-img[_ngcontent-%COMP%]{width:100%;height:330px;border-radius:3px 3px 0 0}@media (max-width:641px){.poster-img[_ngcontent-%COMP%]{display:block;width:100px;height:150px}}"],changeDetection:0}),e})();var y=n("oEsC");let S=(()=>{class e{constructor(){this.dynamicFooter=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["movie-card-footer"]],inputs:{movie:"movie",dynamicFooter:"dynamicFooter"},decls:9,vars:9,consts:[[1,"slider-footer"],[3,"rating","votes"],[1,"movie-title"]],template:function(e,t){1&e&&(l.Yb(0,"section",0),l.Tb(1,"m2c-rating-grid",1),l.Yb(2,"article"),l.Yb(3,"span",2),l.zc(4),l.Xb(),l.Tb(5,"br"),l.Yb(6,"small"),l.zc(7),l.jc(8,"date"),l.Xb(),l.Xb(),l.Xb()),2&e&&(l.Kb("dynamicFooter",t.dynamicFooter),l.Hb(1),l.nc("rating",t.movie.vote_average)("votes",t.movie.vote_count),l.Hb(3),l.Ac(t.movie.title),l.Hb(3),l.Ac(l.kc(8,6,t.movie.release_date,"mediumDate")))},directives:[y.a],pipes:[i.d],styles:[".mv-card[_ngcontent-%COMP%]{float:left;width:230px;margin:5px 20px 5px 0;background:#233a50}.poster-img[_ngcontent-%COMP%]{width:100%}@media (min-width:320px){.mv-card[_ngcontent-%COMP%]{width:100px;margin:5px 5px 5px 0}}@media (min-width:641px){.mv-card[_ngcontent-%COMP%]{width:230px}}.slider-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;font-size:11px;padding:15px;height:85px}.rating-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;align-items:center;margin-bottom:10px}.movie-title[_ngcontent-%COMP%]{color:#fff;font-size:14px}.fi[_ngcontent-%COMP%]{font-size:16px;margin-right:5px}.mc-rating[_ngcontent-%COMP%]{color:#dcf836}.user-rating[_ngcontent-%COMP%]{color:#cd2c2c}.gauge[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:-50px;color:#fff}ngx-gauge[_ngcontent-%COMP%]{border-radius:50%;background:rgba(35,58,80,.9)}@media (max-width:641px){.dynamicFooter[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),e})(),C=(()=>{class e{constructor(){this.movieSelected=new l.q,this.dynamicFooter=!0}ngOnInit(){}onMovieSelect(e){this.movieSelected.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["movie-card"]],inputs:{movie:"movie"},outputs:{movieSelected:"movieSelected"},decls:4,vars:3,consts:[[1,"mv-card"],[3,"click"],[3,"imageUrl"],[3,"movie","dynamicFooter"]],template:function(e,t){1&e&&(l.Yb(0,"section",0),l.Yb(1,"article",1),l.gc("click",(function(){return t.onMovieSelect(t.movie)})),l.Tb(2,"m2c-poster-img",2),l.Xb(),l.Tb(3,"movie-card-footer",3),l.Xb()),2&e&&(l.Hb(2),l.nc("imageUrl",t.movie.poster_path?"https://image.tmdb.org/t/p/original"+t.movie.poster_path:""),l.Hb(1),l.nc("movie",t.movie)("dynamicFooter",t.dynamicFooter))},directives:[M,S],styles:[".mv-card[_ngcontent-%COMP%]{float:left;width:230px;margin:5px 20px 5px 0;background:#233a50}.poster-img[_ngcontent-%COMP%]{width:100%}@media (min-width:320px){.mv-card[_ngcontent-%COMP%]{width:100px;margin:5px 5px 5px 0}}@media (min-width:641px){.mv-card[_ngcontent-%COMP%]{width:230px}}"],changeDetection:0}),e})();function P(e,t){if(1&e){const e=l.Zb();l.Yb(0,"article"),l.Yb(1,"movie-card",4),l.gc("movieSelected",(function(t){return l.rc(e),l.ic().onMovieSelected(t)})),l.Xb(),l.Xb()}if(2&e){const e=t.$implicit;l.Hb(1),l.nc("movie",e)}}function _(e,t){if(1&e){const e=l.Zb();l.Yb(0,"movie-card",4),l.gc("movieSelected",(function(t){return l.rc(e),l.ic(3).onMovieSelected(t)})),l.Xb()}if(2&e){const e=l.ic().$implicit;l.nc("movie",e)}}function j(e,t){if(1&e&&(l.Yb(0,"article"),l.xc(1,_,1,1,"movie-card",10),l.Xb()),2&e){const e=t.index;l.Hb(1),l.nc("ngIf",e<=5)}}function X(e,t){if(1&e){const e=l.Zb();l.Wb(0),l.Tb(1,"app-spacer",5),l.Yb(2,"section",6),l.Yb(3,"h3",7),l.zc(4),l.Xb(),l.Yb(5,"p",8),l.gc("click",(function(){l.rc(e);const n=t.index,i=l.ic();return i.onViewAll(i.languages[n].name)})),l.zc(6,"View All"),l.Xb(),l.Xb(),l.Yb(7,"section",9),l.xc(8,j,2,1,"article",1),l.Xb(),l.Vb()}if(2&e){const e=t.$implicit,n=t.index,i=l.ic();l.Hb(1),l.nc("height",20),l.Hb(3),l.Ac(i.languages[n].name),l.Hb(4),l.nc("ngForOf",e.results)}}let I=(()=>{class e extends g.b{constructor(e,t,n){super(t,n),this.movieService=e,this.router=t,this.toastr=n,this.trending=[],this.trendingMovies=[],this.movies=[],this.dotActive=0,this.carousalHeight=425,this.languages=g.a.languageKeys}ngOnInit(){this.fetchMovies(),this.fetchNowPlaying()}triggerSliderAutoPlay(e){setInterval(()=>{this.activeItemChanged(this.dotActive<e-1?this.dotActive+1:0)},4e3)}fetchNowPlaying(){this.movieService.fetchNowPlaying().subscribe(e=>{this.trending=e.results,this.populateCarousal(this.trending)},e=>this.handleError(e))}fetchMovies(){this.movieService.fetchMovieDashboard(this.languages).subscribe(e=>{this.movies.push(...e)},e=>this.handleError(e))}populateCarousal(e){this.count=e.length/6,this.trendingMovies=e.slice(6*this.dotActive,6*this.dotActive+6),this.triggerSliderAutoPlay(this.count)}activeItemChanged(e){this.dotActive=e,this.trendingMovies=this.trending.slice(6*this.dotActive,6*this.dotActive+6)}onMovieSelected(e){this.navigateTo(`movie-details/${e.id}`)}onViewAll(e){this.navigateTo(`movies/view-all/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(m),l.Sb(s.f),l.Sb(p.b))},e.\u0275cmp=l.Mb({type:e,selectors:[["app-movie-container"]],features:[l.Eb],decls:7,vars:5,consts:[[1,"movie-card-slider",3,"animate"],[4,"ngFor","ngForOf"],[1,"slider-dots"],[3,"count","activeIndex","activeItem"],[3,"movie","movieSelected"],[3,"height"],[1,"section-container"],[1,"text-white"],[1,"text-primary-alternate","clickable",3,"click"],[1,"movie-card-slider"],[3,"movie","movieSelected",4,"ngIf"]],template:function(e,t){1&e&&(l.Tb(0,"m2c-search"),l.Yb(1,"app-slider-carousal",0),l.xc(2,P,2,1,"article",1),l.Xb(),l.Tb(3,"app-spacer"),l.Yb(4,"section",2),l.Yb(5,"slider-dots",3),l.gc("activeItem",(function(e){return t.activeItemChanged(e)})),l.Xb(),l.Xb(),l.xc(6,X,9,3,"ng-container",1)),2&e&&(l.Hb(1),l.nc("animate",t.dotActive),l.Hb(1),l.nc("ngForOf",t.trendingMovies),l.Hb(3),l.nc("count",t.count)("activeIndex",t.dotActive),l.Hb(1),l.nc("ngForOf",t.movies))},directives:[d.a,f,i.k,x.a,w,C,i.l],styles:[".slider-dots[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.movie-card-slider[_ngcontent-%COMP%]{display:flex;overflow:auto}"]}),e})(),Y=(()=>{class e{constructor(){this.movieSelected=new l.q}ngOnInit(){}onMovieSelect(e){this.movieSelected.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-view-all"]],inputs:{movie:"movie"},outputs:{movieSelected:"movieSelected"},decls:4,vars:2,consts:[[1,"mv-card"],[3,"click"],["alt","poster",1,"poster-img",3,"src"],[3,"movie"]],template:function(e,t){1&e&&(l.Yb(0,"section",0),l.Yb(1,"article",1),l.gc("click",(function(){return t.onMovieSelect(t.movie)})),l.Tb(2,"img",2),l.Xb(),l.Tb(3,"movie-card-footer",3),l.Xb()),2&e&&(l.Hb(2),l.nc("src",t.movie.backdrop_path?"https://image.tmdb.org/t/p/original"+t.movie.backdrop_path:"/assets/images/slider_placeholder.svg",l.uc),l.Hb(1),l.nc("movie",t.movie))},directives:[S],styles:[".mv-card[_ngcontent-%COMP%]{float:left;width:230px;margin:3px;background:#233a50}.poster-img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:245px}@media (min-width:320px){.mv-card[_ngcontent-%COMP%]{width:100%}}@media (min-width:481px){.mv-card[_ngcontent-%COMP%]{width:calc((100% - 12px)/2)}.poster-img[_ngcontent-%COMP%]{max-height:134px}}@media (min-width:641px){.mv-card[_ngcontent-%COMP%]{width:calc((100% - 18px)/3)}.poster-img[_ngcontent-%COMP%]{max-height:126px}}@media (min-width:961px){.mv-card[_ngcontent-%COMP%]{width:calc((100% - 24px)/4)}.poster-img[_ngcontent-%COMP%]{max-height:125px}}@media (min-width:1025px){.mv-card[_ngcontent-%COMP%]{width:calc((100% - 30px)/5)}.poster-img[_ngcontent-%COMP%]{max-height:228px}}@media (min-width:1281px){.mv-card[_ngcontent-%COMP%]{width:calc((100% - 30px)/5)}.poster-img[_ngcontent-%COMP%]{max-height:139px}}"],changeDetection:0}),e})();var k=n("oOf3");function H(e,t){if(1&e){const e=l.Zb();l.Yb(0,"article"),l.Yb(1,"mv-view-all",3),l.gc("movieSelected",(function(t){return l.rc(e),l.ic().onMovieSelected(t)})),l.Xb(),l.Xb()}if(2&e){const e=t.$implicit;l.Hb(1),l.nc("movie",e)}}function T(e,t){if(1&e){const e=l.Zb();l.Yb(0,"pagination-controls",4),l.gc("pageChange",(function(t){return l.rc(e),l.ic().pageChanged(t)})),l.Xb()}}const F=function(e,t){return{itemsPerPage:20,currentPage:e,totalItems:t}};function R(e,t){if(1&e){const e=l.Zb();l.Yb(0,"article"),l.Yb(1,"mv-view-all",3),l.gc("movieSelected",(function(t){return l.rc(e),l.ic().onMovieSelected(t)})),l.Xb(),l.Xb()}if(2&e){const e=t.$implicit;l.Hb(1),l.nc("movie",e)}}function A(e,t){if(1&e){const e=l.Zb();l.Yb(0,"pagination-controls",4),l.gc("pageChange",(function(t){return l.rc(e),l.ic().pageChanged(t)})),l.Xb()}}const $=function(e,t){return{itemsPerPage:20,currentPage:e,totalItems:t}},D=[{path:"",component:I},{path:":searchText",component:(()=>{class e extends g.b{constructor(e,t,n,i){super(n,i),this.route=e,this.movieService=t,this.router=n,this.toastr=i,this.p=1}ngOnInit(){this.onRouteSubscribe()}onRouteSubscribe(){this.route.params.subscribe(e=>{this.searchText=e.searchText,this.doContentSearch(this.searchText)})}doContentSearch(e,t=1){this.movieService.doContentSearch(e,t).subscribe(e=>{this.movieResponse=e},e=>this.handleError(e))}onMovieSelected(e){this.navigateTo(`/movie-details/${e.id}`)}pageChanged(e){this.p=e,this.doContentSearch(this.searchText,e),window.scrollTo(0,0)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(s.a),l.Sb(m),l.Sb(s.f),l.Sb(p.b))},e.\u0275cmp=l.Mb({type:e,selectors:[["app-search-results"]],features:[l.Eb],decls:10,vars:10,consts:[[1,"text-white"],[4,"ngFor","ngForOf"],["class","my-pagination",3,"pageChange",4,"ngIf"],[3,"movie","movieSelected"],[1,"my-pagination",3,"pageChange"]],template:function(e,t){1&e&&(l.Tb(0,"m2c-search"),l.Tb(1,"app-spacer"),l.Yb(2,"h3",0),l.zc(3),l.Xb(),l.Yb(4,"h5"),l.zc(5),l.Xb(),l.Yb(6,"section"),l.xc(7,H,2,1,"article",1),l.jc(8,"paginate"),l.Xb(),l.xc(9,T,1,0,"pagination-controls",2)),2&e&&(l.Hb(3),l.Bc("Search Results for (",t.searchText,")"),l.Hb(2),l.Bc("",null==t.movieResponse?null:t.movieResponse.total_results," movies found"),l.Hb(2),l.nc("ngForOf",l.kc(8,4,null==t.movieResponse?null:t.movieResponse.results,l.oc(7,F,t.p,null==t.movieResponse?null:t.movieResponse.total_results))),l.Hb(2),l.nc("ngIf",(null==t.movieResponse?null:t.movieResponse.total_pages)>1))},directives:[d.a,x.a,i.k,i.l,Y,k.c],pipes:[k.b],styles:[""]}),e})()},{path:"view-all/:language",component:(()=>{class e extends g.b{constructor(e,t,n,i){super(n,i),this.route=e,this.movieService=t,this.router=n,this.toastr=i,this.p=1,this.languages=g.a.languageKeys}ngOnInit(){this.language=this.route.snapshot.params.language,this.fetchMovies(this.language)}fetchMovies(e,t=1){const n=this.languages.find(e=>e.name===this.language);this.movieService.generateMovieResponses(n,t).subscribe(e=>{this.movieResponse=e},e=>this.handleError(e))}onMovieSelected(e){this.navigateTo(`/movie-details/${e.id}`)}pageChanged(e){this.p=e,this.fetchMovies(this.language,e),window.scrollTo(0,0)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(s.a),l.Sb(m),l.Sb(s.f),l.Sb(p.b))},e.\u0275cmp=l.Mb({type:e,selectors:[["app-view-all-results"]],features:[l.Eb],decls:10,vars:10,consts:[[1,"text-white"],[4,"ngFor","ngForOf"],["class","my-pagination",3,"pageChange",4,"ngIf"],[3,"movie","movieSelected"],[1,"my-pagination",3,"pageChange"]],template:function(e,t){1&e&&(l.Tb(0,"m2c-search"),l.Tb(1,"app-spacer"),l.Yb(2,"h3",0),l.zc(3),l.Xb(),l.Yb(4,"h5"),l.zc(5),l.Xb(),l.Yb(6,"section"),l.xc(7,R,2,1,"article",1),l.jc(8,"paginate"),l.Xb(),l.xc(9,A,1,0,"pagination-controls",2)),2&e&&(l.Hb(3),l.Ac(t.language),l.Hb(2),l.Bc("",null==t.movieResponse?null:t.movieResponse.total_results," movies found"),l.Hb(2),l.nc("ngForOf",l.kc(8,4,null==t.movieResponse?null:t.movieResponse.results,l.oc(7,$,t.p,null==t.movieResponse?null:t.movieResponse.total_results))),l.Hb(2),l.nc("ngIf",(null==t.movieResponse?null:t.movieResponse.total_pages)>1))},directives:[d.a,x.a,i.k,i.l,Y,k.c],pipes:[k.b],styles:[""]}),e})()}];let z=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(D)],s.g]}),e})(),E=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},providers:[m],imports:[[i.b,z,c.a,o.a]]}),e})()}}]);