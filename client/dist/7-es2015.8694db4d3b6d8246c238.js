(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{FQ2B:function(e,t,n){"use strict";n.r(t),n.d(t,"MovieDetailsModule",(function(){return A}));var i=n("ofXK"),c=n("PCNd"),o=n("bcps"),s=n("tyNb"),r=n("M0ag"),a=n("ey9i"),l=n("fXoL");let b=(()=>{class e{constructor(e){this.dataService=e}fetchMovieDetails(e){return this.dataService.get(`movies/${e}?append_to_response=credits,videos,recommendations`)}}return e.\u0275fac=function(t){return new(t||e)(l.cc(a.a))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})();class m{constructor(e,t){this.title=e,this.text=t}}const d=[{key:"Director",value:"Director"},{key:"Writer",value:"Writer"},{key:"Producer",value:"Producer"},{key:"Screenplay",value:"Script"}],g=[{key:"original_title",value:"Original Title"},{key:"release_date",value:"Release Date"},{key:"status",value:"Status"}],p=["Original Title","Director","Writer","Screenplay","Producer","Release Date","Status","Genres"];let u=(()=>{class e{constructor(e){this.util=e}populateMetaTags(e){let t;return t=[...this.fillJobTags(e.credits.crew),...this.fillGeneralTags(e),this.fillGenreTag(e)],this.util.customSort(t,p,"title")}fillJobTags(e){let t=[];return e.forEach(e=>{if(this.hasJobInJobTags(e)){const n=t.find(t=>t.title===e.job);n?n.text+=`, ${e.name}`:t.push(new m(e.job,e.name))}}),t}fillGeneralTags(e){const t=[];return g.forEach(n=>{const i=new m(n.value,e[n.key]);t.push(i)}),t}fillGenreTag(e){let t=e.genres.map(e=>e.name).join(", ");return new m("Genres",t)}hasJobInJobTags(e){return!!d.some(t=>e.job===t.key)}}return e.\u0275fac=function(t){return new(t||e)(l.cc(a.b))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac}),e})();var f=n("jhN1"),v=n("5eHb"),h=n("KPdS"),x=n("2c16"),O=n("oEsC");let y=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-rating-grid"]],inputs:{movie:"movie"},decls:7,vars:2,consts:[[1,"section-container"],[1,"mv-rating"],[3,"rating","votes"],[1,"user-rating"],[1,"ml-10"]],template:function(e,t){1&e&&(l.Yb(0,"section",0),l.Yb(1,"article",1),l.Tb(2,"m2c-rating-grid",2),l.Xb(),l.Yb(3,"article",3),l.Yb(4,"h4"),l.zc(5,"Rate This Movie : "),l.Xb(),l.Tb(6,"div",4),l.Xb(),l.Xb()),2&e&&(l.Hb(2),l.nc("rating",null==t.movie?null:t.movie.vote_average)("votes",null==t.movie?null:t.movie.vote_count))},directives:[O.a],styles:[".section-container[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start;border:1px solid #000;border-left:0;border-right:0}.mv-rating[_ngcontent-%COMP%]{width:200px;padding:0 20px}.user-rating[_ngcontent-%COMP%]{display:flex;align-items:center;border-left:1px solid #000;padding:0 20px}.mc-rating[_ngcontent-%COMP%]{color:gold}h4[_ngcontent-%COMP%]{margin:15px 0}@media (max-width:641px){.section-container[_ngcontent-%COMP%]{flex-direction:column}.mv-rating[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px}.mv-rating[_ngcontent-%COMP%], .user-rating[_ngcontent-%COMP%]{width:100%;padding:0 10px}.user-rating[_ngcontent-%COMP%]{border-top:1px solid #000;border-left:0}}"],changeDetection:0}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-tab"]],inputs:{text:"text"},decls:5,vars:1,consts:[[1,"tab"],[1,"text-desc"]],template:function(e,t){1&e&&(l.Yb(0,"article"),l.Yb(1,"span",0),l.zc(2," OVERVIEW "),l.Xb(),l.Yb(3,"p",1),l.zc(4),l.Xb(),l.Xb()),2&e&&(l.Hb(4),l.Bc(" ",t.text," "))},styles:[".tab[_ngcontent-%COMP%]{font-size:13px;color:#dcf836;border-bottom:3px solid #dcf836;display:inline-block;line-height:35px}.text-desc[_ngcontent-%COMP%]{font-size:13px;line-height:20px}"],changeDetection:0}),e})();function _(e,t){if(1&e&&(l.Yb(0,"article",4),l.Tb(1,"img",5),l.Yb(2,"article",6),l.Yb(3,"span",7),l.zc(4),l.Xb(),l.Yb(5,"span",8),l.zc(6),l.Xb(),l.Xb(),l.Xb()),2&e){const e=t.$implicit;l.Hb(1),l.nc("src",e.profile_path?"https://image.tmdb.org/t/p/original"+e.profile_path:"/assets/images/slider_placeholder.svg",l.uc),l.Hb(3),l.Ac(e.name),l.Hb(2),l.Ac(e.character)}}let w=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-cast"]],inputs:{data:"data"},decls:5,vars:1,consts:[[1,"text-white"],[1,"line-border"],[1,"cast-section"],["class","cast-info",4,"ngFor","ngForOf"],[1,"cast-info"],[1,"thumpnail",3,"src"],[1,"cast-data"],[1,"text-title"],[1,"sub-text"]],template:function(e,t){1&e&&(l.Yb(0,"h4",0),l.zc(1,"Cast"),l.Xb(),l.Tb(2,"span",1),l.Yb(3,"section",2),l.xc(4,_,7,3,"article",3),l.Xb()),2&e&&(l.Hb(4),l.nc("ngForOf",t.data))},directives:[i.k],styles:[".cast-section[_ngcontent-%COMP%]{display:flex;overflow:auto}.cast-info[_ngcontent-%COMP%]{margin:10px 30px 10px 0;display:flex;flex-direction:column;align-items:center}.thumpnail[_ngcontent-%COMP%]{width:125px;border-radius:3px}.cast-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%}.text-title[_ngcontent-%COMP%]{color:#3277a8}.sub-text[_ngcontent-%COMP%], .text-title[_ngcontent-%COMP%]{font-size:13px;margin-top:10px}"],changeDetection:0}),e})();function C(e,t){if(1&e&&(l.Wb(0),l.Yb(1,"h5"),l.zc(2),l.Xb(),l.Yb(3,"p"),l.zc(4),l.Xb(),l.Vb()),2&e){const e=t.$implicit;l.Hb(2),l.Ac(e.title),l.Hb(2),l.Ac(e.text||"-")}}let P=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-meta-tags"]],inputs:{metaTags:"metaTags"},decls:2,vars:1,consts:[[1,"meta-tags"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(l.Yb(0,"article",0),l.xc(1,C,5,2,"ng-container",1),l.Xb()),2&e&&(l.Hb(1),l.nc("ngForOf",t.metaTags))},directives:[i.k],styles:["h5[_ngcontent-%COMP%]{margin:10px 0}p[_ngcontent-%COMP%]{color:#3277a8;margin:10px 0 25px}"],changeDetection:0}),e})(),T=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-details"]],inputs:{movie:"movie",metaTags:"metaTags"},decls:14,vars:10,consts:[[1,"title-grid"],[1,"text-title"],[1,"text-sub","ml-10"],[3,"movie"],[3,"height"],[1,"flex"],[1,"mv-overview-grid"],[3,"text"],[3,"data"],[1,"mv-meta-tag-grid"],[3,"metaTags"]],template:function(e,t){1&e&&(l.Yb(0,"article",0),l.Yb(1,"h2",1),l.zc(2),l.Xb(),l.Yb(3,"h5",2),l.zc(4),l.jc(5,"date"),l.Xb(),l.Xb(),l.Tb(6,"mv-rating-grid",3),l.Tb(7,"app-spacer",4),l.Yb(8,"article",5),l.Yb(9,"div",6),l.Tb(10,"mv-tab",7),l.Tb(11,"mv-cast",8),l.Xb(),l.Yb(12,"div",9),l.Tb(13,"mv-meta-tags",10),l.Xb(),l.Xb()),2&e&&(l.Hb(2),l.Ac(null==t.movie?null:t.movie.title),l.Hb(2),l.Ac(l.kc(5,7,null==t.movie?null:t.movie.release_date,"yyyy")),l.Hb(2),l.nc("movie",t.movie),l.Hb(1),l.nc("height",50),l.Hb(3),l.nc("text",null==t.movie?null:t.movie.overview),l.Hb(1),l.nc("data",null==t.movie||null==t.movie.credits?null:t.movie.credits.cast),l.Hb(2),l.nc("metaTags",t.metaTags))},directives:[y,x.a,M,w,P],pipes:[i.d],styles:["h5[_ngcontent-%COMP%]{align-self:flex-end}.mv-overview-grid[_ngcontent-%COMP%]{width:70%;margin-right:50px}.text-title[_ngcontent-%COMP%]{color:#fff;font-size:24px}.text-sub[_ngcontent-%COMP%]{font-size:12px}.title-grid[_ngcontent-%COMP%]{display:flex}@media (max-width:961px){.flex[_ngcontent-%COMP%], .section-container[_ngcontent-%COMP%]{flex-direction:column}.mv-overview-grid[_ngcontent-%COMP%]{width:100%;margin-right:0}}"],changeDetection:0}),e})();function X(e,t){if(1&e){const e=l.Zb();l.Yb(0,"article",3),l.gc("click",(function(){l.rc(e);const n=t.$implicit;return l.ic().onMovieSelected(n)})),l.Tb(1,"img",4),l.Yb(2,"section",5),l.Yb(3,"article"),l.Yb(4,"span",6),l.zc(5),l.Xb(),l.Yb(6,"span",7),l.zc(7),l.jc(8,"date"),l.Xb(),l.Xb(),l.Yb(9,"span",8),l.zc(10),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=t.$implicit;l.Hb(1),l.nc("src",null!=e&&e.backdrop_path?"https://image.tmdb.org/t/p/original"+e.backdrop_path:"/assets/images/slider_placeholder.svg",l.uc),l.Hb(4),l.Ac(e.title),l.Hb(2),l.Ac(l.kc(8,4,null==e?null:e.release_date,"yyyy")),l.Hb(3),l.Ac(e.original_title)}}let Y=(()=>{class e{constructor(){this.movieSelected=new l.q}ngOnInit(){}onMovieSelected(e){this.movieSelected.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-recommendation"]],inputs:{recommendations:"recommendations"},outputs:{movieSelected:"movieSelected"},decls:4,vars:1,consts:[[1,"text-white"],[1,"recommendation-grid"],["class","recommendation-item",3,"click",4,"ngFor","ngForOf"],[1,"recommendation-item",3,"click"],[1,"img-backdrop",3,"src"],[1,"text-grid"],[1,"text-title"],[1,"text-sub","ml-10"],[1,"sub-text"]],template:function(e,t){1&e&&(l.Yb(0,"h3",0),l.zc(1,"Recommendations"),l.Xb(),l.Yb(2,"section",1),l.xc(3,X,11,7,"article",2),l.Xb()),2&e&&(l.Hb(3),l.nc("ngForOf",t.recommendations))},directives:[i.k],pipes:[i.d],styles:[".recommendation-grid[_ngcontent-%COMP%]{display:flex;overflow:auto}.recommendation-item[_ngcontent-%COMP%]{margin-right:20px}.img-backdrop[_ngcontent-%COMP%]{height:170px;border-radius:9px}.text-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%;margin-top:10px}.text-title[_ngcontent-%COMP%]{color:#3277a8}.text-sub[_ngcontent-%COMP%]{font-size:11px}.sub-text[_ngcontent-%COMP%]{font-size:12px;margin-top:10px}"],changeDetection:0}),e})();const S=["*"];let k=(()=>{class e{constructor(){this.closeOverlay=new l.q}ngOnInit(){}onClose(){this.closeOverlay.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Mb({type:e,selectors:[["mv-overlay"]],outputs:{closeOverlay:"closeOverlay"},ngContentSelectors:S,decls:5,vars:0,consts:[[1,"fi","clickable",3,"click"]],template:function(e,t){1&e&&(l.mc(),l.Yb(0,"section"),l.Yb(1,"span",0),l.gc("click",(function(){return t.onClose()})),l.zc(2,"close"),l.Xb(),l.Tb(3,"app-spacer"),l.lc(4),l.Xb())},directives:[x.a],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;padding:50px 100px 100px;z-index:10;background:#020d18;text-align:end}[_nghost-%COMP%], section[_ngcontent-%COMP%]{height:100%}.fi[_ngcontent-%COMP%]{font-size:30px}@media (max-width:641px){[_nghost-%COMP%]{padding:10px 10px 100px}}"],changeDetection:0}),e})();function H(e,t){if(1&e){const e=l.Zb();l.Yb(0,"section",4),l.Yb(1,"article",5),l.Tb(2,"img",6),l.Yb(3,"button",7),l.gc("click",(function(){return l.rc(e),l.ic().showTrailer()})),l.zc(4,"WATCH TRAILER"),l.Xb(),l.Xb(),l.Yb(5,"article",8),l.Tb(6,"mv-details",9),l.Xb(),l.Xb()}if(2&e){const e=l.ic();l.Hb(2),l.nc("src",null!=e.movie&&e.movie.poster_path?"https://image.tmdb.org/t/p/original"+e.movie.poster_path:"",l.uc),l.Hb(1),l.nc("disabled",!e.safeSrc),l.Hb(3),l.nc("movie",e.movie)("metaTags",e.metaTags)}}function z(e,t){if(1&e){const e=l.Zb();l.Yb(0,"mv-recommendation",10),l.gc("movieSelected",(function(t){return l.rc(e),l.ic().onMovieSelected(t)})),l.Xb()}if(2&e){const e=l.ic();l.nc("recommendations",e.recommendations)}}function I(e,t){if(1&e){const e=l.Zb();l.Yb(0,"mv-overlay",11),l.gc("closeOverlay",(function(t){return l.rc(e),l.ic().onCloseOverlay(t)})),l.Tb(1,"iframe",12),l.Xb()}if(2&e){const e=l.ic();l.Hb(1),l.Kb("thumbnail",e.thumbnail),l.nc("src",e.safeSrc,l.tc)}}const D=[{path:":id",component:(()=>{class e extends r.b{constructor(e,t,n,i,c,o){super(c,o),this.movieDetailsService=e,this.movieHelper=t,this.route=n,this.sanitizer=i,this.router=c,this.toastr=o,this.safeSrc=void 0,this.showOverlay=!1,this.recommendations=[]}ngOnInit(){this.onRouteSubscribe()}onRouteSubscribe(){this.route.params.subscribe(e=>{this.movieId=e.id,this.fetchMovieDetails(this.movieId)})}fetchMovieDetails(e){this.movieDetailsService.fetchMovieDetails(e).subscribe(e=>{this.movie=e,this.metaTags=this.movieHelper.populateMetaTags(e),this.recommendations=e.recommendations.results,this.safeSrc=e.videos.results.length>0?this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${e.videos.results[0].key}`):""},e=>this.handleError(e))}showTrailer(){this.showOverlay=!0}onCloseOverlay(){this.showOverlay=!1}onMovieSelected(e){this.navigateTo(`movie-details/${e.id}`)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(b),l.Sb(u),l.Sb(s.a),l.Sb(f.b),l.Sb(s.f),l.Sb(v.b))},e.\u0275cmp=l.Mb({type:e,selectors:[["app-details"]],features:[l.Eb],decls:7,vars:3,consts:[["class","section-container",4,"ngIf"],[1,"line-border"],[3,"recommendations","movieSelected",4,"ngIf"],[3,"closeOverlay",4,"ngIf"],[1,"section-container"],[1,"image-section"],[1,"img-poster-full",3,"src"],[1,"btn-sign-up","btn-action",3,"disabled","click"],[1,"details-section"],[3,"movie","metaTags"],[3,"recommendations","movieSelected"],[3,"closeOverlay"],["width","100%","height","100%","frameborder","0","webkitallowfullscreen","","mozallowfullscreen","","allowfullscreen","",3,"src"]],template:function(e,t){1&e&&(l.Tb(0,"m2c-search"),l.xc(1,H,7,4,"section",0),l.Tb(2,"app-spacer"),l.Tb(3,"span",1),l.Tb(4,"app-spacer"),l.xc(5,z,1,1,"mv-recommendation",2),l.xc(6,I,2,3,"mv-overlay",3)),2&e&&(l.Hb(1),l.nc("ngIf",t.movie),l.Hb(4),l.nc("ngIf",t.recommendations.length>0),l.Hb(1),l.nc("ngIf",t.showOverlay))},directives:[h.a,i.l,x.a,T,Y,k],styles:[".section-container[_ngcontent-%COMP%]{justify-content:flex-start}.image-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px}.details-section[_ngcontent-%COMP%]{flex-grow:1;padding:0 50px;overflow:auto}.btn-action[_ngcontent-%COMP%]{width:100%;border-radius:7px;margin-top:10px}.btn-action.secondary[_ngcontent-%COMP%]{background:#dcf836;color:#000}.img-poster-full[_ngcontent-%COMP%]{width:350px;border-radius:5px;border:2px solid #abb7c4}@media (max-width:641px){.section-container[_ngcontent-%COMP%]{flex-direction:column}.img-poster-full[_ngcontent-%COMP%]{width:100%}.details-section[_ngcontent-%COMP%]{padding:0 10px}}"]}),e})()}];let j=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(D)],s.g]}),e})(),A=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},providers:[u,b],imports:[[i.b,j,c.a,o.a]]}),e})()}}]);